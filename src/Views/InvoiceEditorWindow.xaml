<Window x:Class="Wrecept.Views.InvoiceEditorWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:ip="clr-namespace:Wrecept.Views.InvoiceParts"
        Title="Számlakezelő"
        WindowStartupLocation="CenterScreen"
        Background="{DynamicResource WindowBackground}"
        Width="1000" Height="650">
    <Window.InputBindings>
        <KeyBinding Key="S" Modifiers="Control" Command="{Binding SaveCommand}" />
        <KeyBinding Key="Escape" Command="{Binding ExitToListCommand}" />
    </Window.InputBindings>

    <DockPanel>
        <Menu DockPanel.Dock="Top" TabIndex="0">
            <MenuItem Header="_Fájl">
                <MenuItem Header="Mentés" Command="{Binding SaveCommand}" InputGestureText="Ctrl+S"/>
                <MenuItem Header="Nyomtatás" Command="{Binding PrintCommand}"/>
                <MenuItem Header="Export" >
                    <MenuItem Header="CSV" Command="{Binding ExportCommand}" CommandParameter="csv"/>
                    <MenuItem Header="Excel" Command="{Binding ExportCommand}" CommandParameter="xlsx"/>
                    <MenuItem Header="PDF" Command="{Binding ExportCommand}" CommandParameter="pdf"/>
                </MenuItem>
                <Separator/>
                <MenuItem Header="Bezárás" Command="{Binding CloseCommand}" />
            </MenuItem>
        </Menu>
        <ip:InvoiceSidebar DockPanel.Dock="Left"
                              DataContext="{Binding SidebarViewModel}"
                              TabIndex="1" />
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <ip:InvoiceHeader Margin="10"
                                 DataContext="{Binding HeaderViewModel}"
                                 TabIndex="2" />
            <ip:InvoiceItemsGrid Grid.Row="1" Margin="10"
                                    DataContext="{Binding ItemsViewModel}"
                                    TabIndex="3" />
            <ip:InvoiceSummary Grid.Row="2" Margin="10"
                                  DataContext="{Binding SummaryViewModel}"
                                  TabIndex="4" />
        </Grid>
        <ToolBar DockPanel.Dock="Bottom" TabIndex="5">
            <Button Content="Mentés" Command="{Binding SaveCommand}" />
            <Button Content="Nyomtatás" Command="{Binding PrintCommand}" />
            <Menu>
                <MenuItem Header="Export">
                    <MenuItem Header="CSV" Command="{Binding ExportCommand}" CommandParameter="csv" />
                    <MenuItem Header="Excel" Command="{Binding ExportCommand}" CommandParameter="xlsx" />
                    <MenuItem Header="PDF" Command="{Binding ExportCommand}" CommandParameter="pdf" />
                </MenuItem>
            </Menu>
            <Button Content="Bezárás" Command="{Binding CloseCommand}" />
        </ToolBar>
    </DockPanel>
</Window>
