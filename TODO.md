# TODO

- [x] Add MIT License file.
- [x] Separate cross-platform core into new library project.
- [x] Add unit test project using xUnit.
- [x] Create setup.sh for build and test automation.
- [x] Document build and test procedure.
- [x] Define plugin architecture specification.
- [x] Ensure progress logs stored under docs/progress.
- [x] Implement plugin loader in Wrecept.Core.
- [x] Provide sample IMenuPlugin implementation.
- [x] Implement invoice list keyboard navigation and creation flow.
- [x] Implement UX failsafe logic for invoice navigation.
- [x] Redesign invoice editor layout with summary tables and keyboard flow.
- [x] Add toolbar and main menu to InvoiceEditorWindow with keyboard shortcuts.
- [x] Validate item entry and provide explicit "Hozzáadás" button.
- [x] Expose database path helper and log location.
- [x] Add global exception handling and in-memory startup fallback.
- [x] Detect locked SQLite file and display clear error message.
- [x] Offer recovery when database file is corrupt, creating a backup.
- [x] Create a new database automatically when the file is missing.
- [x] Implement keyboard-navigable menu system.
- [x] Add filter dialogs for invoice list (date, supplier, product group, product).
- [x] Implement CRUD views for Supplier and Product master data.
- [x] Refactor CRUD view models using RestorableListViewModel base.
- [x] Replace in-memory repositories with SQLite implementation and seed demo data.
- [x] Provide Settings window for theme selection saved to JSON.
- [x] Document new features and database location.
- [x] Publish single-file executable
- [x] Generate Windows installer with Inno Setup
- [x] Confirm exit when pressing Esc in menu.
- [x] Support PgUp/PgDn navigation for long lists.

- [x] Implement inline creator component for missing master data.
- [x] Extend InlineCreator for Supplier creation
- [x] Implement GrandTotal.AmountText using HungarianNumberConverter
- [x] Finalize InvoiceItemsViewModel placeholder row logic
- [x] Provide initialization logic in InvoiceHeader, InvoiceSidebar, InvoiceItemsGrid, InvoiceSummary views
- [x] Add unit tests for NavigationService dialogs

- [x] Implement keyboard-triggered lookup dialogs (F2 or Ctrl+L) for master data fields (product, supplier, product group, unit, tax rate)
- [x] Fix InvoiceEditorViewModel.CancelEdit to restore all fields
- [x] Wrap async payment method load in InvoiceHeaderViewModel with error handling
- [x] Introduce InputLockScope to manage AppContext.InputLocked
- [x] Generate unique invoice serial numbers
- [x] Prevent placeholder selection when invoice list filter is empty
- [x] Disable row addition in master data grids
- [x] Handle IO errors when saving settings and exporting invoices
- [x] Set default/cancel button behaviour for filter and settings dialogs
- [x] Launch application with main invoice list window
- [x] Cancel placeholder row entry with Escape in InvoiceItemsGrid
- [x] Close Help, About and F1 overlay windows with Escape
- [x] Provide CRUD windows for Units, Product Groups and Tax Rates
- [x] Implement unified audio and visual feedback system
- [ ] Auto-open inline lookup dropdowns when name fields receive focus
- [ ] Integrate lookup dropdown directly below search fields with Up/Down + Enter/Esc handling
- [ ] Record and apply latest product prices via JsonPriceHistoryService
- [ ] Document automatic lookup flow in user manual and ui_flow
- [ ] Add tests for JsonPriceHistoryService
